# SDS

> üìö **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞** ‚Äî Vue 3 –ø—Ä–æ–µ–∫—Ç —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π Feature-Sliced Design

Vue 3 (Composition API) + TypeScript + Webpack 5 + Axios + Element Plus + Pinia.
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: **FSD** (Feature-Sliced Design).

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –≤–∏–¥–∂–µ—Ç–æ–º –ø–æ–≥–æ–¥—ã: –ø–æ–∏—Å–∫ –ø–æ –≥–æ—Ä–æ–¥—É –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ (OpenWeatherMap API).

---

## üìñ –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –∫–∞–∫ **–∫–Ω–∏–≥–∞ —Å –≥–ª–∞–≤–∞–º–∏** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è:

### –ß–∞—Å—Ç—å I: –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

- **[–ì–ª–∞–≤–∞ 1: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](./docs/01-quick-start.md)** üöÄ  
  –£—Å—Ç–∞–Ω–æ–≤–∫–∞, –∑–∞–ø—É—Å–∫, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –ß–∞—Å—Ç—å II: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **[–ì–ª–∞–≤–∞ 2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è](./docs/02-architecture.md)** üèóÔ∏è  
  –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, SOLID, –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **[–ì–ª–∞–≤–∞ 3: FSD –ü—Ä–∏–Ω—Ü–∏–ø—ã](./docs/03-fsd-principles.md)** üéØ  
  Feature-Sliced Design: —Å–ª–æ–∏, –ø—Ä–∞–≤–∏–ª–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

- **[–ì–ª–∞–≤–∞ 4: DI –∏ –ü–∞—Ç—Ç–µ—Ä–Ω—ã](./docs/04-di-and-patterns.md)** üß©  
  Dependency Injection, HTTP-–∫–ª–∏–µ–Ω—Ç, –∫–æ–Ω—Ñ–∏–≥, –º–∞–ø–ø–µ—Ä—ã

---

## –°—Ç–µ–∫

- **Vue 3** (Composition API)
- **TypeScript**
- **Webpack 5**
- **Axios**
- **Element Plus**
- **Pinia** (—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- **Vue Router**
- **SCSS** (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–∏–∫—Å–∏–Ω—ã flex / media / spacing, –ø–∞–ª–∏—Ç—Ä–∞)
- **Jest** (—Ç–µ—Å—Ç—ã)
- **ESLint** + **vue-tsc** (–ª–∏–Ω—Ç –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤)
- **Husky** + **lint-staged** (pre-commit: lint-staged + –ø–æ–ª–Ω—ã–π lint, type-check, —Ç–µ—Å—Ç—ã, build)
- **webpack-bundle-analyzer** (–∞–Ω–∞–ª–∏–∑ –±–∞–Ω–¥–ª–∞)

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã** (`widgets/weather`): –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ñ–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É, —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ / –æ—à–∏–±–∫–∏ / –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–≥–æ–¥—ã / –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ; –µ–¥–∏–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –±–ª–æ–∫–æ–≤ —á–µ—Ä–µ–∑ `--weather-block-max` (26.25rem).
- **–°—É—â–Ω–æ—Å—Ç—å Weather** (`entities/Weather`): API OpenWeatherMap (—Ç–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞ –ø–æ –≥–æ—Ä–æ–¥—É –∏ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º), –º–∞–ø–ø–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ –≤ DTO, Pinia-—Å—Ç–æ—Ä–µ, UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–∞—Ä—Ç–æ—á–∫–∞, –ª–æ–∞–¥–µ—Ä, –æ—à–∏–±–∫–∞, –ø–æ–¥—Å–∫–∞–∑–∫–∞). –°–µ—Ä–≤–∏—Å –ø–æ–≥–æ–¥—ã –ø–æ–ª—É—á–∞–µ—Ç HTTP-–∫–ª–∏–µ–Ω—Ç –∏ –∫–æ–Ω—Ñ–∏–≥ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (DI), –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—Ç–∞–π–º–∞—É—Ç, –∏–∫–æ–Ω–∫–∏, –µ–¥–∏–Ω–∏—Ü—ã) ‚Äî –≤ `entities/Weather/config`.
- **–§–∏—á–∞ –ø–æ–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–∞** (`features/search-city`): —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –≥–æ—Ä–æ–¥–∞, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞, –≤—ã–∑–æ–≤ —Å—Ç–æ—Ä–∞.
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏**: –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤–∏–¥–∂–µ—Ç–∞ –∑–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–≥–æ–¥—ã –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º (–≤–∏–¥–∂–µ—Ç `useInitWeatherByGeolocation`).
- **DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** (`shared/lib/di`): —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–±—Ä–∏–∫/—Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–≤, —Ç–æ–∫–µ–Ω—ã, `resolveRequired` / `resolveOr`. –ü—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ–≥–æ–¥—ã –≤ app —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ñ–∏–≥ (`getOpenWeatherConfig`), HTTP-–∫–ª–∏–µ–Ω—Ç —á–µ—Ä–µ–∑ `createHttpClient`, —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–∏–Ω–≥–ª—Ç–æ–Ω –≤ `main.ts`.
- **HTTP-–∫–ª–∏–µ–Ω—Ç** (`shared/config/httpClient`): —Ñ–∞–±—Ä–∏–∫–∞ `createHttpClient(options)` ‚Äî –µ–¥–∏–Ω—ã–π Axios-–∏–Ω—Å—Ç–∞–Ω—Å —Å –∑–∞–¥–∞–Ω–Ω—ã–º baseURL –∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–º –æ—à–∏–±–æ–∫ (`useApiErrorNormalization`); entity –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç axios –Ω–∞–ø—Ä—è–º—É—é.
- **–û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã**: composables –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî `useApiErrorNormalization`, `useStringNormalization`; –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è (`getCurrentPosition`), –∫–æ–Ω—Ñ–∏–≥ OpenWeatherMap (`IOpenWeatherConfig`, `getOpenWeatherConfig`).
- **PageLoader** (`shared/ui/PageLoader`): –ª–æ–∞–¥–µ—Ä –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å logo.webp, –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ `window.load`. –ö–æ–Ω—Ñ–∏–≥ –≤ `shared/config/constants`, —Ç–∏–ø—ã –≤ `shared/model/types`, –ª–æ–≥–∏–∫–∞ –≤ composable `shared/lib/composables/usePageLoader` (–ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏), UI –≤ `PageLoader.vue`; –ø—Ä–æ–≤–µ—Ä–∫–∞ `document.readyState` —á–µ—Ä–µ–∑ `useStringNormalization`, —Å—Ç–∏–ª–∏ —á–µ—Ä–µ–∑ –º–∏–∫—Å–∏–Ω—ã –∏ –ø–∞–ª–∏—Ç—Ä—É (`$color-bg`).

## FSD-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ app/          # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–æ—É—Ç–µ—Ä, DI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (weather), PageLoader
‚îú‚îÄ‚îÄ pages/        # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Ä–æ—É—Ç—ã (main ‚Üí WeatherWidget)
‚îú‚îÄ‚îÄ widgets/      # weather: –≤–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã + useInitWeatherByGeolocation
‚îú‚îÄ‚îÄ features/     # search-city: —Ñ–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É
‚îú‚îÄ‚îÄ entities/     # Weather: API, store, mappers, UI (–∫–∞—Ä—Ç–æ—á–∫–∞, –ª–æ–∞–¥–µ—Ä, –æ—à–∏–±–∫–∞, –ø—É—Å—Ç–æ)
‚îî‚îÄ‚îÄ shared/       # config, lib (di, helpers, normalization, composables/usePageLoader), ui (PageLoader), —Å—Ç–∏–ª–∏, —Ç–µ—Å—Ç-—Å–µ—Ç–∞–ø
```

–ê–ª–∏–∞—Å—ã: `@app`, `@pages`, `@widgets`, `@features`, `@entities`, `@shared`, `@`.

> üìö **–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [–ì–ª–∞–≤–∞ 3: FSD –ü—Ä–∏–Ω—Ü–∏–ø—ã](./docs/03-fsd-principles.md)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
npm install
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ OPENWEATHERMAP_API_KEY –≤ .env
npm run dev
```

–û—Ç–∫—Ä—ã—Ç—å: http://localhost:3000

> üìö **–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [–ì–ª–∞–≤–∞ 1: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](./docs/01-quick-start.md)

---

## –û–∫—Ä—É–∂–µ–Ω–∏–µ

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–¥–∞–π—Ç–µ –∫–ª—é—á OpenWeatherMap:

```bash
cp .env.example .env
```

–í `.env`:

- `OPENWEATHERMAP_API_KEY` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π, –∫–ª—é—á —Å [OpenWeatherMap](https://openweathermap.org/api).
- `OPENWEATHERMAP_BASE` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `https://api.openweathermap.org/data/2.5`.

## –°—Ç–∏–ª–∏ (SCSS)

–í –∫–∞–∂–¥–æ–º `.vue` –∏ `.scss` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã (–±–µ–∑ —Ä—É—á–Ω–æ–≥–æ `@use`):

- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**: `src/shared/styles/_variables.scss` ‚Äî –ø–∞–ª–∏—Ç—Ä–∞ (`$color-primary`, `$color-text-*`, ‚Ä¶), —Å–ø–µ–π—Å–∏–Ω–≥–∏ (`$spacing-md`, ‚Ä¶), –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç—ã (`$breakpoint-md`, ‚Ä¶).
- **–ú–∏–∫—Å–∏–Ω—ã**:
  - **flex**: `@include flex()`, `@include flex-center()`, `@include flex-between()`, `@include flex-col()`, `@include flex-row()`, `@include flex-grow()`, `@include gap(md)`.
  - **media**: `@include media-min-md`, `@include media-max-lg`, `@include media($min, $max)`.
  - **spacing**: `@include margin-all()`, `@include padding-x()`, `@include spacing-padding(lg)`, `@include gap(sm)`.

## –°–∫—Ä–∏–ø—Ç—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `npm run dev` | –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Ä—Ç 3000) |
| `npm run build` | Production-—Å–±–æ—Ä–∫–∞ |
| `npm run build:analyze` | –°–±–æ—Ä–∫–∞ + –æ—Ç–∫—Ä—ã—Ç–∏–µ –æ—Ç—á—ë—Ç–∞ bundle analyzer |
| `npm run check` | –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: lint ‚Üí type-check ‚Üí test ‚Üí build |
| `npm run type-check` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (vue-tsc) |
| `npm run lint` | ESLint |
| `npm run lint:fix` | ESLint —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–æ–º |
| `npm run test` | Jest |
| `npm run test:watch` | Jest –≤ watch-—Ä–µ–∂–∏–º–µ |
| `npm run test:coverage` | Jest —Å –æ—Ç—á—ë—Ç–æ–º –ø–æ–∫—Ä—ã—Ç–∏—è |
| `npm run hooks:install` | –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Husky git hooks (–µ—Å–ª–∏ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç pre-commit) |

## Pre-commit

–ü—Ä–∏ `git commit` –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è:

1. **lint-staged**: ESLint (`--fix`) —Ç–æ–ª—å–∫–æ –¥–ª—è staged-—Ñ–∞–π–ª–æ–≤
2. **lint**: –ø–æ–ª–Ω—ã–π ESLint –ø–æ –ø—Ä–æ–µ–∫—Ç—É
3. **type-check**: –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (vue-tsc)
4. **test**: Jest
5. **build**: production-—Å–±–æ—Ä–∫–∞

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](./docs/01-quick-start.md)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è](./docs/02-architecture.md)
- [FSD –ü—Ä–∏–Ω—Ü–∏–ø—ã](./docs/03-fsd-principles.md)
- [DI –∏ –ü–∞—Ç—Ç–µ—Ä–Ω—ã](./docs/04-di-and-patterns.md)
- [CHANGELOG](./docs/CHANGELOG.md)

### –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã

- [Feature-Sliced Design](https://feature-sliced.design/)
- [Vue 3](https://vuejs.org/)
- [TypeScript](https://www.typescriptlang.org/docs/)
- [Pinia](https://pinia.vuejs.org/)
- [OpenWeatherMap API](https://openweathermap.org/api)
